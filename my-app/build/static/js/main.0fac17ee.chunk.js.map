{"version":3,"sources":["Services/Service.js","Components/Login/Login.js","Components/SelectStatus/SelectStatus.js","Components/Employee/Employee.js","Components/Search/Search.js","Components/EmployeesList/EmployeesList.js","Components/Dashboard/Dashboard.js","Routes/PrivateRoute.js","Routes/PublicRoute.js","Components/SignUp/SignUp.js","App.js","hooks/useToken.js","reportWebVitals.js","index.js"],"names":["signUser","user","a","fetch","method","headers","body","JSON","stringify","then","data","json","loginUser","credentials","updateStatus","getEmployeesList","response","filterByName","name","Login","props","useState","userEmail","setUserEmail","handleSubmit","e","preventDefault","token","setToken","alert","className","onSubmit","type","placeholder","onChange","target","value","href","SelectStatus","handleStatusUpdate","status","updateUser","_id","res","defaultValue","Employee","Search","filter","list","setData","listView","EmployeesList","flag","dataList","useEffect","employees","i","length","employee","email","listItem","push","Dashboard","headLine","PrivateRoute","Component","component","rest","tokenHandler","render","to","PublicRoute","restricted","console","log","SignUp","setEmail","setName","setStatus","required","App","userString","sessionStorage","getItem","parse","getUser","setItem","useToken","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0fac17ee.chunk.js","sourcesContent":["\nexport const signUser = async (user) => { // sign the user in the data base\n    return fetch('/api/signUp', {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(data => data.json());\n}\n\nexport const loginUser = async (credentials) => { // check if the user is in the database and return its details\n    return fetch('/api/login', {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n    })\n        .then(data => { return data.json() });\n\n}\n\nexport const updateStatus = async (user) => { // update the status of the user\n    return fetch('/api/updateStatus', {\n        method: \"POST\",\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(data => data.json());\n}\n\nexport const getEmployeesList = async () => { // return list of users\n    const response = await fetch('/api/getList');\n    return response.json();\n}\n\nexport const filterByName = async (name) => {\n    const response = await fetch(`/api/filterByName?name=${name}`);\n    return response.json();\n}\n\n","\nimport React, { useState } from 'react';\nimport { loginUser } from '../../Services/Service';\nimport './Login.css';\n\nexport default function Login(props) {\n    const [userEmail, setUserEmail] = useState();\n    const handleSubmit = async e => {\n        e.preventDefault();\n        let token = await loginUser({ userEmail });\n        if (token) { // if the user has been found then update token\n            props.setToken(token);\n        }\n        else {\n            alert('somthing went wrong');\n        }\n    }\n\n    return (\n        <div className='container'>\n            <div className='my-div'>\n                <form className='my-form' onSubmit={handleSubmit}>\n                    <h3 className='my-headline'>Sign In</h3>\n                    <div className=\"inner\">\n                        <label>Email address</label>\n                        <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\"\n                            onChange={e => { setUserEmail(e.target.value) }} />\n                    </div>\n                    <div className=\"inner\">\n                        <button type=\"submit\" className=\"btn btn-primary my-btn\">Login</button>\n                        <p className=\"text-right\">\n                            doesnt have an account?  <a href=\"/signup\">Signup?</a>\n                        </p>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}","import React from 'react'\nimport { updateStatus } from '../../Services/Service';\nimport './selectStatus.css';\n\nexport default function SelectStatus(props) {\n    const handleStatusUpdate = async e => {\n        e.preventDefault();\n        let status = e.target.value;\n        let updateUser = { _id: props.user._id, status: status };\n        let res = await updateStatus(updateUser);\n        if (res) {\n            props.setToken(res);\n        }\n    }\n\n    return (\n        <div className='status-div'>\n            <p className='my-lable'>Update my current status</p>\n            <select className='form-select form-select-sm' defaultValue={props.user.status} onChange={handleStatusUpdate}>\n                <option value=\"Working\">Working</option>\n                <option value=\"On Vacation\">On Vacation</option>\n                <option value=\"at Lunch Time\">Lunch Time</option>\n                <option value=\"in a Buisness Trip\">Buisness Trip</option>\n            </select>\n        </div>\n\n    )\n}","import React from 'react';\n\nexport default function Employee(props) {\n    let name = props.name;\n    let status = props.status;\n    return(\n        <tr>\n            <td>\n                {`${name} (${status})`}\n            </td>\n        </tr>\n    )\n}","import React from 'react';\nimport { filterByName } from '../../Services/Service';\nimport { getEmployeesList } from '../../Services/Service';\n\nexport default function Search(props) {\n\n    const filter = async e => {\n        let name = e.target.value;\n        e.preventDefault();\n        let list;\n        if (name === '') {\n            list = await getEmployeesList();\n        }\n        else {\n            list = await filterByName(e.target.value);\n        }\n        props.setData({ listView: [...list] });\n    }\n\n    return (\n        <input className='my-search' type='text' placeholder='search by name' onChange={e => filter(e)} />\n    )\n}","import React, { useState, useEffect } from 'react';\nimport Employee from '../Employee/Employee';\nimport Search from '../Search/Search';\nimport { getEmployeesList } from '../../Services/Service';\nimport './EmployeesList.css'\n\nexport default function EmployeesList(props) {\n    let [dataList, setData] = useState({\n        listView: [],\n        flag: true\n    });\n    useEffect(() => {\n      getEmployeesList().then(data => { setData({ listView: [...data] }) });\n    }, []);\n    \n    let employees = [];\n    for (let i = 0; i < dataList.listView.length; i++) {\n        const employee = dataList.listView[i];\n        if (employee._id !== props.email) {\n            let listItem = <Employee key={employee._id} name={employee.name} status={employee.status} />\n            employees.push(listItem);\n        }\n    }\n\n    return (\n        <div className='list-div'>\n            <Search setData={setData} />\n            <table className='table table-bordered my-table'>\n                <tbody>\n                    {employees}\n                </tbody>\n            </table>\n        </div>\n\n    )\n}","import React from 'react';\nimport './Dashboard.css'\nimport SelectStatus from '../SelectStatus/SelectStatus';\nimport EmployeesList from '../EmployeesList/EmployeesList';\n\nexport default function Dashboard(props) {\n    let user = props.token;\n    let headLine = `Hello ${user.name} you are ${user.status}`;\n\n    return (\n        <div className='board'>\n            <h2 className='headLine'>{headLine}</h2>\n            <SelectStatus user={user} setToken={props.setToken} />\n            <hr />\n            <EmployeesList email={user._id} />\n        </div>\n\n    )\n}","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n\nconst PrivateRoute = ({ component: Component, token, setToken, ...rest }) => {\n    let tokenHandler = { token, setToken };\n    return (\n        // restricted = false meaning public route\n        // restricted = true meaning restricted route\n        <Route {...rest} render={props => (\n            token ?\n                <Component {...tokenHandler} />\n                : <Redirect to=\"/login\" />\n        )} />\n    );\n};\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\n\nconst PublicRoute = ({component: Component ,restricted , token,...rest}) => {\n    console.log(restricted);\n    return (\n\n        // Show the component only when the user is logged in\n        // Otherwise, redirect the user to /signin page\n        <Route {...rest} render={props => (\n             token && restricted ?\n             <Redirect to=\"/dashboard\"/> \n             :  <Component {...rest} />\n        )} />\n    );\n};\n\nexport default PublicRoute;","import React, { useState } from 'react';\nimport { signUser } from '../../Services/Service';\n\nimport './SignUp.css';\n\nexport default function SignUp(props) {\n    const [email, setEmail] = useState();\n    const [name, setName] = useState();\n    const [status, setStatus] = useState();\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        let user = { _id: email, status: status, name: name }\n        const res = signUser(user);\n        if (res) {\n            props.setToken(user);\n        }\n        else {\n            alert('faild');\n        }\n    }\n\n\n    return (\n        <div className='container'>\n            <div className='my-div'>\n                <form className='my-form' onSubmit={handleSubmit}>\n                    <h3 className='my-headline'>Sign Up</h3>\n\n                    <div className=\"inner\">\n                        <label>Full Name</label>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Full Name\"\n                            onChange={e => setName(e.target.value)} required />\n                    </div>\n\n                    <div className=\"inner\">\n                        <label>Status</label>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Status\"\n                            onChange={e => setStatus(e.target.value)} required />\n                    </div>\n\n                    <div className=\"inner\">\n                        <label>Email Address</label>\n                        <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\"\n                            onChange={e => setEmail(e.target.value)} required />\n                    </div>\n                    <div className='inner'>\n                    <button type=\"submit\" className=\"btn btn-primary btn-block my-btn\">Sign Up</button>\n                    <p className=\"forgot-password text-right\">\n                        Already registered <a href=\"/login\">sign in?</a>\n                    </p>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}","import './App.css';\nimport Login from './Components/Login/Login';\nimport Dashboard from './Components/Dashboard/Dashboard';\nimport PrivateRoute from './Routes/PrivateRoute';\nimport PublicRoute from './Routes/PublicRoute';\nimport { BrowserRouter as Router, Switch } from 'react-router-dom';\nimport SignUp from './Components/SignUp/SignUp';\nimport useToken from './hooks/useToken';\n\n\nfunction App() {\n\n  const { token, setToken } = useToken();\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <PublicRoute restricted={true} component={Login}\n            token={token} setToken={setToken} path=\"/\" exact />\n          <PublicRoute restricted={true} component={Login}\n            token={token} setToken={setToken} path=\"/login\" exact />\n          <PublicRoute restricted={true} component={SignUp}\n            token={token} setToken={setToken} path=\"/signup\" exact />\n          <PrivateRoute component={Dashboard}\n            token={token} setToken={setToken} path='/dashboard' exact />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import { useState } from \"react\";\n\nexport default function useToken() {\n    const getUser = () => {\n        const userString = sessionStorage.getItem('user');\n        const user = JSON.parse(userString);\n        return user;\n    }\n\n    const [token, setToken] = useState(getUser());\n    const saveUser = (user) => {\n        sessionStorage.setItem('user', JSON.stringify(user));\n        setToken(user);\n    }\n    return {\n        setToken: saveUser,\n        token\n    }\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}