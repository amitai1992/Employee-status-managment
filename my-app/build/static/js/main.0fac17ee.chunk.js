(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(22),s=n.n(c),i=(n(28),n(29),n(2)),o=n.n(i),u=n(5),l=n(9),j=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/signUp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/api/updateStatus",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/getList");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/filterByName?name=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=(n(31),n(0));function m(e){var t=Object(r.useState)(),n=Object(l.a)(t,2),a=n[0],c=n[1],s=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,b({userEmail:a});case 3:(r=t.sent)?e.setToken(r):alert("somthing went wrong");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"my-div",children:Object(h.jsxs)("form",{className:"my-form",onSubmit:s,children:[Object(h.jsx)("h3",{className:"my-headline",children:"Sign In"}),Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("label",{children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){c(e.target.value)}})]}),Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("button",{type:"submit",className:"btn btn-primary my-btn",children:"Login"}),Object(h.jsxs)("p",{className:"text-right",children:["doesnt have an account?  ",Object(h.jsx)("a",{href:"/signup",children:"Signup?"})]})]})]})})})}n(33),n(34);function O(e){var t=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=n.target.value,a={_id:e.user._id,status:r},t.next=5,p(a);case 5:(c=t.sent)&&e.setToken(c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"status-div",children:[Object(h.jsx)("p",{className:"my-lable",children:"Update my current status"}),Object(h.jsxs)("select",{className:"form-select form-select-sm",defaultValue:e.user.status,onChange:t,children:[Object(h.jsx)("option",{value:"Working",children:"Working"}),Object(h.jsx)("option",{value:"On Vacation",children:"On Vacation"}),Object(h.jsx)("option",{value:"at Lunch Time",children:"Lunch Time"}),Object(h.jsx)("option",{value:"in a Buisness Trip",children:"Buisness Trip"})]})]})}var x=n(17);function v(e){var t=e.name,n=e.status;return Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:"".concat(t," (").concat(n,")")})})}function g(e){var t=function(){var t=Object(u.a)(o.a.mark((function t(n){var r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.target.value,n.preventDefault(),""!==r){t.next=8;break}return t.next=5,d();case 5:a=t.sent,t.next=11;break;case 8:return t.next=10,f(n.target.value);case 10:a=t.sent;case 11:e.setData({listView:Object(x.a)(a)});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("input",{className:"my-search",type:"text",placeholder:"search by name",onChange:function(e){return t(e)}})}n(35);function y(e){var t=Object(r.useState)({listView:[],flag:!0}),n=Object(l.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){d().then((function(e){c({listView:Object(x.a)(e)})}))}),[]);for(var s=[],i=0;i<a.listView.length;i++){var o=a.listView[i];if(o._id!==e.email){var u=Object(h.jsx)(v,{name:o.name,status:o.status},o._id);s.push(u)}}return Object(h.jsxs)("div",{className:"list-div",children:[Object(h.jsx)(g,{setData:c}),Object(h.jsx)("table",{className:"table table-bordered my-table",children:Object(h.jsx)("tbody",{children:s})})]})}function k(e){var t=e.token,n="Hello ".concat(t.name," you are ").concat(t.status);return Object(h.jsxs)("div",{className:"board",children:[Object(h.jsx)("h2",{className:"headLine",children:n}),Object(h.jsx)(O,{user:t,setToken:e.setToken}),Object(h.jsx)("hr",{}),Object(h.jsx)(y,{email:t._id})]})}var N=n(11),w=n(16),S=n(3),T=function(e){var t=e.component,n=e.token,r=e.setToken,a=Object(w.a)(e,["component","token","setToken"]),c={token:n,setToken:r};return Object(h.jsx)(S.b,Object(N.a)(Object(N.a)({},a),{},{render:function(e){return n?Object(h.jsx)(t,Object(N.a)({},c)):Object(h.jsx)(S.a,{to:"/login"})}}))},C=function(e){var t=e.component,n=e.restricted,r=e.token,a=Object(w.a)(e,["component","restricted","token"]);return console.log(n),Object(h.jsx)(S.b,Object(N.a)(Object(N.a)({},a),{},{render:function(e){return r&&n?Object(h.jsx)(S.a,{to:"/dashboard"}):Object(h.jsx)(t,Object(N.a)({},a))}}))},V=n(14);n(44);function D(e){var t=Object(r.useState)(),n=Object(l.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(),i=Object(l.a)(s,2),b=i[0],p=i[1],d=Object(r.useState)(),f=Object(l.a)(d,2),m=f[0],O=f[1],x=function(){var t=Object(u.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),j(r={_id:a,status:m,name:b})?e.setToken(r):alert("faild");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"my-div",children:Object(h.jsxs)("form",{className:"my-form",onSubmit:x,children:[Object(h.jsx)("h3",{className:"my-headline",children:"Sign Up"}),Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("label",{children:"Full Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Full Name",onChange:function(e){return p(e.target.value)},required:!0})]}),Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("label",{children:"Status"}),Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Status",onChange:function(e){return O(e.target.value)},required:!0})]}),Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("label",{children:"Email Address"}),Object(h.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){return c(e.target.value)},required:!0})]}),Object(h.jsxs)("div",{className:"inner",children:[Object(h.jsx)("button",{type:"submit",className:"btn btn-primary btn-block my-btn",children:"Sign Up"}),Object(h.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(h.jsx)("a",{href:"/login",children:"sign in?"})]})]})]})})})}var E=function(){var e=function(){var e=Object(r.useState)(function(){var e=sessionStorage.getItem("user");return JSON.parse(e)}()),t=Object(l.a)(e,2),n=t[0],a=t[1];return{setToken:function(e){sessionStorage.setItem("user",JSON.stringify(e)),a(e)},token:n}}(),t=e.token,n=e.setToken;return Object(h.jsx)(V.a,{children:Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(S.d,{children:[Object(h.jsx)(C,{restricted:!0,component:m,token:t,setToken:n,path:"/",exact:!0}),Object(h.jsx)(C,{restricted:!0,component:m,token:t,setToken:n,path:"/login",exact:!0}),Object(h.jsx)(C,{restricted:!0,component:D,token:t,setToken:n,path:"/signup",exact:!0}),Object(h.jsx)(T,{component:k,token:t,setToken:n,path:"/dashboard",exact:!0})]})})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),J()}},[[45,1,2]]]);
//# sourceMappingURL=main.0fac17ee.chunk.js.map